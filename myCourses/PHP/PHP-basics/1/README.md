## PHP Environment Setup with Nginx and PHP-FPM

### Описание

Этот проект демонстрирует настройку окружения с использованием Nginx, PHP-FPM и PHP CLI с использованием Docker. Включает выполнение PHP кода, объяснение вывода, смену версии PHP и выполнение задач по обмену значениями переменных.

### Файлы

- `Dockerfile`: Dockerfile для Nginx и PHP-FPM
- `Dockerfile.cli`: Dockerfile для PHP CLI
- `nginx.conf`: Конфигурационный файл для Nginx
- `docker-compose.yml`: Файл конфигурации Docker Compose
- `html/index.php`: PHP код для выполнения
- `html/swap.php`: PHP скрипт для обмена значениями переменных

### Запуск окружения

#### Сборка и запуск контейнеров

1. Соберите и запустите контейнеры с помощью Docker Compose:
    ```bash
    docker-compose up -d
    ```

2. Подключитесь к контейнеру PHP CLI и выполните PHP код:
    ```bash
    docker-compose run cli php /var/www/html/index.php
    ```

#### Объяснение вывода

1. `var_dump($a == $b);`
    - **Вывод**: `bool(true)`
    - **Объяснение**: При нестрогом сравнении `==` строка `'05'` приводится к числу 5, и поэтому `$a` и `$b` равны.

2. `var_dump((int)'012345');`
    - **Вывод**: `int(12345)`
    - **Объяснение**: Приведение строки `'012345'` к целому числу удаляет начальный ноль, так как это незначимый ноль.

3. `var_dump((float)123.0 === (int)123.0);`
    - **Вывод**: `bool(false)`
    - **Объяснение**: Строгое сравнение `===` учитывает типы данных. `(float)123.0` — это число с плавающей запятой, а `(int)123.0` — целое число, поэтому они не равны.

4. `var_dump(0 == 'hello, world');`
    - **Вывод**: `bool(true)`
    - **Объяснение**: При нестрогом сравнении строка `'hello, world'` приводится к числу. Так как она не начинается с цифры, она приводится к 0, что равно нулю.

#### Смена версии PHP в контейнере CLI

Для смены версии PHP с 8.2 на 7.4 в контейнере CLI, выполните следующие шаги:

1. Измените `Dockerfile.cli`:
    ```Dockerfile
    # Используем базовый образ с PHP 7.4 CLI
    FROM php:7.4-cli

    # Копируем содержимое сайта
    COPY html/ /var/www/html/

    # Команда по умолчанию
    CMD ["php", "-a"]
    ```

2. Пересоберите контейнер:
    ```bash
    docker-compose build cli
    ```

3. Подключитесь к контейнеру PHP CLI и проверьте вывод кода:
    ```bash
    docker-compose run cli php /var/www/html/index.php
    ```

#### Изменение вывода при смене версии PHP

В рамках данного задания, единственное, что изменится при смене версии PHP с 8.2 на 7.4, это результат выполнения var_dump(0 == 'Hello, World!'). В остальном вывод останется тем же.

#### Выполнение задачи по обмену значениями переменных

1. Итак, есть файл `html/swap.php` с содержимым:
    ```php
    <?php
    $a = 1;
    $b = 2;

    $a = $a + $b;
    $b = $a - $b;
    $a = $a - $b;

    echo "a = $a, b = $b";  // Вывод: a = 2, b = 1
    ?>
    ```

2. Подключаемся к контейнеру PHP CLI и выполняем скрипт:
    ```bash
    docker-compose run cli php /var/www/html/swap.php
    ```